<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> python学习 · 金缮的随笔</title><meta name="description" content="python学习 - 晓松"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/prontera.css"><link rel="search" type="application/opensearchdescription+xml" href="yexiaosong.github.io/atom.xml" title="金缮的随笔"><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="金缮的随笔" type="application/atom+xml">
</head><body><header class="feature-header"><nav class="component-nav"><ul><div class="logo-container"><a href="/"><h2 class="title">金缮的随笔</h2></a></div><a href="/" target="_self" class="li component-nav-item"><p>主页</p></a><a href="/archives" target="_self" class="li component-nav-item"><p>归档</p></a><a href="/about" target="_self" class="li component-nav-item"><p>关于</p></a><ul class="shortcut-icons"><a href="https://github.com/yexiaosong" target="_blank"><img src="/images/github.svg" class="icon"></a><a href="https://www.zhihu.com/people/yexiaosong" target="_blank"><img src="/images/zhihu.svg" class="icon"></a></ul></ul></nav></header><main class="container"><div id="post-container"><div class="post"><article class="post-block"><h1 class="post-title">python学习</h1><div class="post-info">2017年9月5日</div><div class="post-content"><h2 id="python-字符格式化"><a href="#python-字符格式化" class="headerlink" title="python 字符格式化"></a>python 字符格式化</h2><h3 id="python采用和c语言的方式，-格式化。例如："><a href="#python采用和c语言的方式，-格式化。例如：" class="headerlink" title="python采用和c语言的方式，%格式化。例如："></a>python采用和c语言的方式，%格式化。例如：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'%2d-%02d'</span> % (<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line"><span class="string">' 3-01'</span></span><br></pre></td></tr></table></figure>
<p>其中，2d%中的2表示在输出后两个空格，02d%表示两个空格，且输出保持为前面补零。</p>
<h2 id="代码块和条件判断"><a href="#代码块和条件判断" class="headerlink" title="代码块和条件判断"></a>代码块和条件判断</h2><h3 id="表示后面缩进的代码是一个块"><a href="#表示后面缩进的代码是一个块" class="headerlink" title=":表示后面缩进的代码是一个块"></a>:表示后面缩进的代码是一个块</h3><h3 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h3> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> sth:</span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line"><span class="keyword">elif</span> sth <span class="keyword">else</span>:</span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line"><span class="keyword">else</span>:</span><br></pre></td></tr></table></figure>
<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><h3 id="迭代式"><a href="#迭代式" class="headerlink" title="迭代式"></a>迭代式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">    print(name)</span><br></pre></td></tr></table></figure>

<h3 id="如果使用类似Java中的key-value形式，需要使用python内置函数enumerate，把list变成k-v对，例如"><a href="#如果使用类似Java中的key-value形式，需要使用python内置函数enumerate，把list变成k-v对，例如" class="headerlink" title="如果使用类似Java中的key-value形式，需要使用python内置函数enumerate，把list变成k-v对，例如"></a>如果使用类似Java中的key-value形式，需要使用python内置函数enumerate，把list变成k-v对，例如</h3> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i,value <span class="keyword">in</span> enumerate([<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>]):</span><br><span class="line">	print(i, value)   <span class="comment">#----&gt;0 A      1 B      2 C</span></span><br></pre></td></tr></table></figure>

<h3 id="遍历dict，生成k-v对可以遍历dict的items方法。否则只能遍历key值"><a href="#遍历dict，生成k-v对可以遍历dict的items方法。否则只能遍历key值" class="headerlink" title="遍历dict，生成k,v对可以遍历dict的items方法。否则只能遍历key值"></a>遍历dict，生成k,v对可以遍历dict的items方法。否则只能遍历key值</h3> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;<span class="string">'one'</span>: <span class="string">'laoda'</span>,<span class="string">'two'</span>:<span class="string">'loaer'</span>,<span class="string">'three'</span>: <span class="string">'laosan'</span>&#125;</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> d.items():</span><br><span class="line">	print(k, <span class="string">'= '</span>, v)</span><br></pre></td></tr></table></figure>

<h3 id="判断组件是否可遍历"><a href="#判断组件是否可遍历" class="headerlink" title="判断组件是否可遍历"></a>判断组件是否可遍历</h3> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable</span><br><span class="line"><span class="keyword">if</span> isinstance(<span class="string">'abc'</span>,Iterable):</span><br><span class="line">	print(<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<h3 id="条件循环"><a href="#条件循环" class="headerlink" title="条件循环"></a>条件循环</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">12</span></span><br><span class="line"><span class="keyword">while</span> a &gt; <span class="number">0</span>:</span><br><span class="line">	a-=<span class="number">5</span></span><br><span class="line">print(a)    ----&gt;a=-3</span><br></pre></td></tr></table></figure>
<h3 id="range函数"><a href="#range函数" class="headerlink" title="range函数"></a>range函数</h3><p>list(range(5)) 生产从0到4的list<br>使用for item in range(5),则可以遍历出从0到4</p>
<h2 id="列表的增删查改—list"><a href="#列表的增删查改—list" class="headerlink" title="列表的增删查改—list"></a>列表的增删查改—list</h2><h3 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h3><ul>
<li>append()</li>
<li>insert(1,’item’)，在下标为一的位置，增加了一个item元素</li>
<li>extent()  ,可以拓充列表，将括号内的列表加到前面的列表中<h3 id="删除元素"><a href="#删除元素" class="headerlink" title="删除元素"></a>删除元素</h3></li>
<li>pop() 删除最后一个</li>
<li>remove() 根据内容删除</li>
<li>del xxx[下标]根据下标删除<h3 id="查询-判断元素是否在列表中"><a href="#查询-判断元素是否在列表中" class="headerlink" title="查询   判断元素是否在列表中"></a>查询   判断元素是否在列表中</h3>if “xxx” in list  || if “xxx” not in list<h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3>xxx[下标]=’’</li>
</ul>
<h2 id="元组—tuple"><a href="#元组—tuple" class="headerlink" title="元组—tuple"></a>元组—tuple</h2><h3 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h3><p> classmates = (‘Michael’, ‘Bob’, ‘Tracy’)</p>
<h3 id="特点："><a href="#特点：" class="headerlink" title="特点："></a>特点：</h3><p> 只读</p>
<h3 id="坑："><a href="#坑：" class="headerlink" title="坑："></a>坑：</h3><p>  t=(1) ,表示t=1，与数学中的小括号冲突，此时使用t=(1,) ,表明t是一个只有1的元组</p>
<h2 id="字典的增删改查—dict"><a href="#字典的增删改查—dict" class="headerlink" title="字典的增删改查—dict"></a>字典的增删改查—dict</h2><h3 id="增加dic-‘name’-’alex’-dic-‘age’-22"><a href="#增加dic-‘name’-’alex’-dic-‘age’-22" class="headerlink" title="增加dic={‘name’:’alex’}  dic[‘age’]=22"></a>增加dic={‘name’:’alex’}  dic[‘age’]=22</h3><h3 id="查：-使用get-，可以避免错误"><a href="#查：-使用get-，可以避免错误" class="headerlink" title="查： 使用get()，可以避免错误"></a>查： 使用get()，可以避免错误</h3><h2 id="python切片"><a href="#python切片" class="headerlink" title="python切片"></a>python切片</h2><p> 字符串，列表，元组等中，使用。</p>
<h3 id="基础用法"><a href="#基础用法" class="headerlink" title="基础用法"></a>基础用法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">L = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">L[<span class="number">1</span>:<span class="number">2</span>] 则表示从下标为<span class="number">1</span>到下表为<span class="number">2</span>，包前不顾后。正数<span class="number">0</span>为第一个，倒数第一个下标为<span class="number">-1.</span></span><br></pre></td></tr></table></figure>
<h3 id="还可以选择步长，例如"><a href="#还可以选择步长，例如" class="headerlink" title="还可以选择步长，例如"></a>还可以选择步长，例如</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">L2 = range(<span class="number">10</span>)</span><br><span class="line">L2[2:8:3] ------&gt; [2,5]</span><br></pre></td></tr></table></figure>
<h2 id="列表生成式"><a href="#列表生成式" class="headerlink" title="列表生成式"></a>列表生成式</h2><h3 id="格式-1"><a href="#格式-1" class="headerlink" title="格式"></a>格式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ x*x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">11</span>)]</span><br><span class="line">则生成一个[<span class="number">1</span>,<span class="number">4</span>,<span class="number">9.</span>.<span class="number">.100</span>]的列表</span><br></pre></td></tr></table></figure>

<h3 id="后面还可以写判断，例如"><a href="#后面还可以写判断，例如" class="headerlink" title="后面还可以写判断，例如"></a>后面还可以写判断，例如</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>) <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>]</span><br><span class="line">则生成一个[<span class="number">4</span>，<span class="number">16</span>，<span class="number">36</span>，<span class="number">64</span>，<span class="number">100</span>]的序列</span><br></pre></td></tr></table></figure>

<ul>
<li>将list中的大写转为小写<br>[s.lower() for s in L]</li>
</ul>
<h2 id="generator"><a href="#generator" class="headerlink" title="generator"></a>generator</h2><ul>
<li>在es6中的异步与此基本一致</li>
</ul>
<h2 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h2><h2 id="文件系统"><a href="#文件系统" class="headerlink" title="文件系统"></a>文件系统</h2><h3 id="打开文件方式："><a href="#打开文件方式：" class="headerlink" title="打开文件方式："></a>打开文件方式：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">	f = open(<span class="string">'./a.txt'</span>,<span class="string">'r'</span>)</span><br><span class="line">   print(f.read)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">	<span class="keyword">if</span> f:</span><br><span class="line">    f.close()</span><br></pre></td></tr></table></figure>
<p>但是每次这样try-catch很麻烦，所以：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> open(<span class="string">'./a.txt'</span>,<span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">	print(f.read())</span><br></pre></td></tr></table></figure>

<h3 id="写文件"><a href="#写文件" class="headerlink" title="写文件"></a>写文件</h3><p>在打开文件后，进行write操作即可。</p>
<h2 id="常见的内建模块"><a href="#常见的内建模块" class="headerlink" title="常见的内建模块"></a>常见的内建模块</h2><h3 id="datetime"><a href="#datetime" class="headerlink" title="datetime"></a>datetime</h3><h2 id="虚拟镜像"><a href="#虚拟镜像" class="headerlink" title="虚拟镜像"></a>虚拟镜像</h2><h3 id="安装虚拟镜像"><a href="#安装虚拟镜像" class="headerlink" title="安装虚拟镜像"></a>安装虚拟镜像</h3><p>pip3 install vitualenv<br>但是安装后无法使用命令。后通过查询，输入sudo /usr/bin/easy_install virtualenv后即可<br> sudo pip install virtualenvwrapper 安装管理，将所有的virtualenv进行管理<br>  source /usr/local/bin/virtualenvwrapper.sh 将该脚本加入到bash配置中<br>默认虚拟空间在~/.virtualenvs中</p>
<h3 id="创建虚拟空间"><a href="#创建虚拟空间" class="headerlink" title="创建虚拟空间"></a>创建虚拟空间</h3><p> mkvirtualenv myenv</p>
<h3 id="使用指定的python版本"><a href="#使用指定的python版本" class="headerlink" title="使用指定的python版本"></a>使用指定的python版本</h3><p>mkvirtualenv -p python3.4 venv</p>
<h3 id="启动虚拟环境"><a href="#启动虚拟环境" class="headerlink" title="启动虚拟环境"></a>启动虚拟环境</h3><p>workon venv</p>
<h3 id="退出虚拟环境"><a href="#退出虚拟环境" class="headerlink" title="退出虚拟环境"></a>退出虚拟环境</h3><p>deactivate</p>
<h3 id="删除虚拟环境"><a href="#删除虚拟环境" class="headerlink" title="删除虚拟环境"></a>删除虚拟环境</h3><p>rmvirtualenv</p>
<h3 id="查看虚拟环境中的包"><a href="#查看虚拟环境中的包" class="headerlink" title="查看虚拟环境中的包"></a>查看虚拟环境中的包</h3><p>pip list<br>pip freeze</p>
<h3 id="查看虚拟环境"><a href="#查看虚拟环境" class="headerlink" title="查看虚拟环境"></a>查看虚拟环境</h3><p>workon 两次tab键</p>
<h3 id="进入后安装包"><a href="#进入后安装包" class="headerlink" title="进入后安装包"></a>进入后安装包</h3><p>pip install django==1.8.2</p>
<h2 id="django"><a href="#django" class="headerlink" title="django"></a>django</h2><h3 id="新建项目"><a href="#新建项目" class="headerlink" title="新建项目"></a>新建项目</h3><p>django-admin startproject myproject</p>
<h3 id="添加应用"><a href="#添加应用" class="headerlink" title="添加应用"></a>添加应用</h3><p>python manage.py startapp news</p>
<h3 id="将应用添加到setting-py中的install中"><a href="#将应用添加到setting-py中的install中" class="headerlink" title="将应用添加到setting.py中的install中"></a>将应用添加到setting.py中的install中</h3><h3 id="编写model"><a href="#编写model" class="headerlink" title="编写model"></a>编写model</h3><h3 id="转移model-gt-python-manage-py-makemigrations"><a href="#转移model-gt-python-manage-py-makemigrations" class="headerlink" title="转移model =&gt;python manage.py makemigrations"></a>转移model =&gt;python manage.py makemigrations</h3></div></article></div></div></main><footer class="footer-container"><div class="paginator"><a href="/2017/09/07/sql2/" class="prev">上一篇</a><a href="/2017/06/05/Sql/" class="next">下一篇</a></div><div class="copyright"><p>© 2017 - 2020 <a href="yexiaosong.github.io">晓松</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/AngryPowman/hexo-theme-prontera" target="_blank">hexo-theme-prontera</a>.</p></div></footer></body></html>